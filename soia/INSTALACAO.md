# Guia de Instala√ß√£o - SOIA

## üìã Pr√©-requisitos

- Node.js 18+ instalado
- Conta no Supabase criada
- Git instalado

## üöÄ Passo a Passo

### 1. Navegue at√© o diret√≥rio do projeto

```bash
cd /Users/nicksonaleixo/Documents/GitHub/sistemaotimizi/soia
```

### 2. Instale as depend√™ncias

```bash
npm install
```

### 3. Configure as vari√°veis de ambiente

Crie o arquivo `.env.local` na raiz do projeto:

```bash
cp .env.local.example .env.local
```

Edite o arquivo `.env.local` e adicione suas credenciais do Supabase:

```env
NEXT_PUBLIC_SUPABASE_URL=https://seu-projeto.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=sua_chave_anon_publica
```

### 4. Configure o banco de dados no Supabase

Acesse o SQL Editor no Supabase e execute:

```sql
-- Criar tabela de gerenciamento de IA
create table public.gerenciamento_ai (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  nome_agente text null,
  prompt_atual text null,
  prompt_backup text null,
  data_atualizacao timestamp without time zone null,
  fluxo_agente text null,
  constraint gerenciamento_ai_pkey primary key (id)
);

-- Permitir acesso (ajuste conforme sua pol√≠tica de seguran√ßa)
alter table public.gerenciamento_ai enable row level security;

create policy "Enable read access for all users"
  on public.gerenciamento_ai for select
  to public
  using (true);

create policy "Enable insert access for all users"
  on public.gerenciamento_ai for insert
  to public
  with check (true);

create policy "Enable update access for all users"
  on public.gerenciamento_ai for update
  to public
  using (true);
```

### 5. Adicione √≠cones PWA

Substitua os arquivos vazios em `/public/` por √≠cones reais:
- `icon-192.png` - √çcone 192x192 pixels
- `icon-512.png` - √çcone 512x512 pixels

Voc√™ pode criar √≠cones usando ferramentas como:
- https://www.favicon-generator.org/
- https://realfavicongenerator.net/

### 6. Inicie o servidor de desenvolvimento

```bash
npm run dev
```

O sistema estar√° dispon√≠vel em: http://localhost:3000

### 7. Build para produ√ß√£o

```bash
npm run build
npm start
```

## üì± Instalando como PWA

### No Desktop (Chrome/Edge)
1. Acesse o sistema pelo navegador
2. Clique no √≠cone de instala√ß√£o na barra de endere√ßo (‚ûï)
3. Confirme a instala√ß√£o

### No Mobile (iOS)
1. Abra no Safari
2. Toque no bot√£o Compartilhar
3. Selecione "Adicionar √† Tela de In√≠cio"

### No Mobile (Android)
1. Abra no Chrome
2. Toque no menu (‚ãÆ)
3. Selecione "Adicionar √† tela inicial"

## üîß Configura√ß√µes Adicionais

### Row Level Security (RLS)

Para maior seguran√ßa, configure pol√≠ticas RLS adequadas no Supabase para todas as tabelas.

### Autentica√ß√£o

O sistema atualmente n√£o possui autentica√ß√£o. Para adicionar:

```bash
# Instalar auth do Supabase
npm install @supabase/auth-helpers-nextjs
```

Consulte a documenta√ß√£o: https://supabase.com/docs/guides/auth

## üêõ Solu√ß√£o de Problemas

### Erro de conex√£o com Supabase
- Verifique se as URLs e chaves em `.env.local` est√£o corretas
- Confirme que as tabelas existem no banco de dados
- Verifique as pol√≠ticas RLS

### Erro ao instalar depend√™ncias
```bash
# Limpar cache e reinstalar
rm -rf node_modules package-lock.json
npm install
```

### Porta 3000 em uso
```bash
# Use outra porta
PORT=3001 npm run dev
```

## üìû Suporte

Para d√∫vidas ou problemas, entre em contato com a equipe de desenvolvimento.
